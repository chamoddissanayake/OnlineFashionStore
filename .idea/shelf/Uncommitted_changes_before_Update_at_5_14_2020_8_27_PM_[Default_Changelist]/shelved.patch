Index: src/components/editItems.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React, { Component } from 'react'\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nconst BASE_URL = 'http://localhost:5000';\r\n\r\n\r\nexport default class editItems extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: '',\r\n      category: '',\r\n      name: '',\r\n      description: '',\r\n      price: '',\r\n      available_quantity: '',\r\n      discount: '',\r\n      image: ''\r\n    };\r\n    this.handleIdChange = this.handleIdChange.bind(this);\r\n    this.handleCategoryChange = this.handleCategoryChange.bind(this);\r\n    this.handleNameChange = this.handleNameChange.bind(this);\r\n    this.handleDescriptionChange = this.handleDescriptionChange.bind(this);\r\n    this.handlePriceChange = this.handlePriceChange.bind(this);\r\n    this.handleAvailableQuantityChange = this.handleAvailableQuantityChange.bind(this);\r\n    this.handleDiscountChange = this.handleDiscountChange.bind(this);\r\n    this.handleImageChange = this.handleImageChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"Component Did Mount Method\");\r\n\r\n    axios.get(`${BASE_URL}/api/products/editItems/` + this.props.match.params.id)\r\n\r\n      .then(response => {\r\n        console.log(\"**\");\r\n        var tempArr = response.data;\r\n        console.log(tempArr[0]);\r\n        this.setState({\r\n          id: tempArr[0]._id,\r\n          price: tempArr[0].price,\r\n          name: tempArr[0].name,\r\n          image: tempArr[0].imageURL_main,\r\n          discount: tempArr[0].discount,\r\n          category: tempArr[0].category,\r\n          description: tempArr[0].description,\r\n          available_quantity: tempArr[0].available_quantity,\r\n        });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  handleIdChange(event) {\r\n\r\n    this.setState({\r\n      id: event.target.value\r\n    }, () => {\r\n      // console.log(\"Entered ID: \", this.state.id);\r\n    });\r\n  }\r\n\r\n  handleCategoryChange(event) {\r\n\r\n    this.setState({\r\n      category: event.target.value\r\n    }, () => {\r\n      // console.log(\"Entered Category: \", this.state.id);\r\n    });\r\n  }\r\n\r\n  handleNameChange(event) {\r\n    this.setState({\r\n      name: event.target.value\r\n    }, () => {\r\n      // console.log(\"Entered Name: \", this.state.name);\r\n    });\r\n  }\r\n  handleDescriptionChange(event) {\r\n    this.setState({\r\n      description: event.target.value\r\n    }, () => {\r\n      // console.log(\"Entered Description: \", this.state.description);\r\n    });\r\n  }\r\n  handlePriceChange(event) {\r\n    this.setState({\r\n      price: event.target.value\r\n    }, () => {\r\n      // console.log(\"Entered Description: \", this.state.price);\r\n    });\r\n  }\r\n  handleAvailableQuantityChange(event) {\r\n    this.setState({\r\n      available_quantity: event.target.value\r\n    }, () => {\r\n      // console.log(\"Entered Available Quantity: \", this.state.available_quantity);\r\n    });\r\n  }\r\n\r\n  handleDiscountChange(event) {\r\n    this.setState({\r\n      discount: event.target.value\r\n    }, () => {\r\n      // console.log(\"Entered discount: \", this.state.discount);\r\n    });\r\n  }\r\n\r\n  handleImageChange(event) {\r\n    this.setState({\r\n      image: event.target.value\r\n    }, () => {\r\n      // console.log(\"Entered image: \", this.state.image);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  handleSubmit(event) {\r\n   \r\n    event.preventDefault();\r\n\r\n    const productObject = {\r\n      id: this.state.id,\r\n      category: this.state.category,\r\n      name: this.state.name,\r\n      description: this.state.description,\r\n      price: this.state.price,\r\n      available_quantity: this.state.available_quantity,\r\n      discount: this.state.discount,\r\n      imageURL_main: this.state.image\r\n    };\r\n\r\n    console.log(productObject);\r\n    axios.post(`${BASE_URL}/api/productsUpdate`, productObject)\r\n      .then((res) => {\r\n\r\n        console.log(res.data)\r\n        if (res.data == true) {\r\n          alert('Item Edited successfully');\r\n          window.location.href = '/viewItems'\r\n        } else {\r\n          alert('Error in editing');\r\n        }\r\n\r\n      }).catch((error) => {\r\n        console.log(error)\r\n      });\r\n\r\n    this.setState({\r\n      id: '',\r\n      category: '',\r\n      name: '',\r\n      description: '',\r\n      price: '',\r\n      available_quantity: '',\r\n      discount: '',\r\n      image: ''\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n\r\n      <div>\r\n        <h2>Edit Items</h2>\r\n        {console.log(this.props.match.params)}\r\n\r\n        <form onSubmit={this.handleSubmit} action=\"/api/products\" method=\"POST\" >\r\n          <div className=\"form-group\">\r\n            <label>Item ID</label>\r\n            <input type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"id\"\r\n              value={this.state.id}\r\n              onChange={this.handleIdChange}  readOnly\r\n              />\r\n            {/* {this.props.match.params.id} */}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Category</label>\r\n            <select id=\"category\" className=\"form-control\" onChange={this.handleCategoryChange} >\r\n                            <option value=\"volvo\"></option>\r\n                            <option value=\"volvo\">Volvo</option>\r\n                            <option value=\"saab\">Saab</option>\r\n                            <option value=\"opel\">Opel</option>\r\n                            <option value=\"audi\">Audi</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Item Name</label>\r\n            <input type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"name\"\r\n              value={this.state.name}\r\n              onChange={this.handleNameChange} />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Description</label>\r\n            <input type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"description\"\r\n              value={this.state.description}\r\n              onChange={this.handleDescriptionChange} />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Price</label>\r\n            <input type=\"number\"\r\n              min=\"0\"\r\n              step=\"0.00\"\r\n              value={this.state.price}\r\n              className=\"form-control\"\r\n              id=\"price\" onChange={this.handlePriceChange} />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Available Quantity</label>\r\n            <input type=\"number\"\r\n              min=\"0\" step=\"0\"\r\n              className=\"form-control\"\r\n              id=\"available_quantity\"\r\n              value={this.state.available_quantity}\r\n              onChange={this.handleAvailableQuantityChange} />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Discount</label>\r\n            <input type=\"number\"\r\n              min=\"0\" step=\"0\"\r\n              className=\"form-control\"\r\n              id=\"discount\"\r\n              value={this.state.discount}\r\n              onChange={this.handleDiscountChange} />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Image</label>\r\n            <input type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"image\"\r\n              value={this.state.image}\r\n              onChange={this.handleImageChange} />\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"btn btn-success\">EDIT THIS ITEM</button><br></br><br></br>\r\n        </form>\r\n      </div>\r\n\r\n    );\r\n\r\n  }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/components/editItems.jsx	(revision 991ead0f5a480b7984a9a7d457e802a479be3f8d)
+++ src/components/editItems.jsx	(date 1589467894382)
@@ -16,7 +16,9 @@
       price: '',
       available_quantity: '',
       discount: '',
-      image: ''
+      image: '',
+      allCategory : [],
+      display : true
     };
     this.handleIdChange = this.handleIdChange.bind(this);
     this.handleCategoryChange = this.handleCategoryChange.bind(this);
@@ -51,7 +53,32 @@
       })
       .catch(function (error) {
         console.log(error);
-      })
+      });
+
+    axios.get(`${BASE_URL}/api/category`)
+        .then((res) => {
+
+          console.log(res.data)
+          if (res.data != null) {
+            this.setState({
+              allCategory : res.data
+
+            });
+            console.log(this.state.allCategory[0].categoryName);
+
+
+          } else {
+            alert('Error');
+          }
+
+        }).catch((error) => {
+      console.log(error)
+    }).finally(()=> {
+      this.setState({
+        display : false
+
+      });
+    }) ;
   }
 
   handleIdChange(event) {
@@ -186,11 +213,12 @@
           <div className="form-group">
             <label>Category</label>
             <select id="category" className="form-control" onChange={this.handleCategoryChange} >
-                            <option value="volvo"></option>
-                            <option value="volvo">Volvo</option>
-                            <option value="saab">Saab</option>
-                            <option value="opel">Opel</option>
-                            <option value="audi">Audi</option>
+              {
+
+                this.state.allCategory.map((field , key) =>
+                    <option key = {field.id} value={field.categoryName}>{field.categoryName}</option>
+                )
+              }
             </select>
           </div>
 
Index: public/Admin/admin.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>var appMain = angular.module('admin', [\"ngRoute\"]);\r\n\r\nappMain.controller('adminCtrl', function($scope , $interval , $http ) {\r\n    $scope.clz1 = \"nav-link active\";\r\n    $scope.clz2 = \"nav-link \";\r\n    $scope.clz3 = \"nav-link \";\r\n    $scope.pageIndex = 0;\r\n    $scope.tableclz = \"\";\r\n    $scope.alert = \"hide\";\r\n    $scope.alertBox1 = \"hide\";\r\n    $scope.alertBox2 = \"hide\";\r\n\r\n    $scope.selection = {}\r\n    $scope.storeMAnagerDetails = {}\r\n\r\n    $scope.categoryObjArray = [];\r\n    $scope.storeMAnagerDetailsArray = [];\r\n\r\n    $scope.changeIndex= function(indexToChange){\r\n        if(indexToChange == 0) {\r\n            $scope.clz1 = \"nav-link active\"\r\n            $scope.clz2 = \"nav-link \"\r\n            $scope.clz3 = \"nav-link \"\r\n        }\r\n        if(indexToChange == 1) {\r\n            $scope.clz1 = \"nav-link \"\r\n            $scope.clz2 = \"nav-link active\"\r\n            $scope.clz3 = \"nav-link \"\r\n        }\r\n        if(indexToChange == 2) {\r\n            $scope.clz1 = \"nav-link \"\r\n            $scope.clz2 = \"nav-link \"\r\n            $scope.clz3 = \"nav-link active\"\r\n        }\r\n        $scope.pageIndex = indexToChange;\r\n    }\r\n\r\n\r\n    var tick = function() {\r\n        $scope.clock = Date.now();\r\n    }\r\n    tick();\r\n    $interval(tick, 1000);\r\n\r\n\r\n    var date = new Date();\r\n    var TodaydateArray = [];\r\n\r\n    TodaydateArray =  date.toString().split(' ');\r\n    $scope.displayTodayDate = \"     \" + TodaydateArray[1] + \"/\" + TodaydateArray[2] + \"/\" + TodaydateArray[3] + \"\\t\" + \"\\t\";\r\n\r\n\r\n\r\n    $scope.Email = function () {\r\n\r\n        http.sendEmail()\r\n    }\r\n\r\n\r\n    //Get all Data from Category collection\r\n    var getDetailsofCategory = function(){\r\n        $scope.tableclz = \"table hide\";\r\n        $scope.alert = \"hide\";\r\n        $scope.alertBox2 = \"show\";\r\n        $http.get('/category')\r\n            .then(function (response) {\r\n                console.log(response);\r\n                $scope.categoryObjArray = response.data;\r\n\r\n\r\n            })\r\n            .finally(function () {\r\n                if($scope.categoryObjArray.length == 0 ){\r\n                    $scope.alert = \"show\";\r\n                    $scope.tableclz = \"table hide\";\r\n\r\n                }\r\n                else {\r\n                    $scope.alert = \"hide\";\r\n                    $scope.tableclz = \"table show\";\r\n\r\n                }\r\n                $scope.alertBox2 = \"hide\";\r\n\r\n            })\r\n    }\r\n    getDetailsofCategory();\r\n\r\n\r\n    //Adding Category\r\n    $scope.AddCategory = function () {\r\n        $scope.alertBox1 = \"show\";\r\n        console.log( $scope.selection.Category);\r\n        for(var i = 0 ; i < $scope.categoryObjArray.length ; i++) {\r\n            if($scope.categoryObjArray[i].name == $scope.selection.Category ){\r\n\r\n                console.log(\"already Added\");\r\n                return;\r\n            }\r\n        }\r\n        if($scope.selection.Category == \"\" || $scope.selection.Category == null ){\r\n            //$scope.showAlert();\r\n        }\r\n        else {\r\n            var id =  $scope.categoryObjArray.length.toString();\r\n            var categoryObj = {id : id ,categoryName : $scope.selection.Category , noOfItems : 0};\r\n\r\n            $http.post('/category' , categoryObj ).then(function (response) {\r\n                console.log(response.data)\r\n                if (response.data == true) {\r\n                    $scope.alertBox1 = \"hide\";\r\n                    $('#save').modal('show');\r\n                    getDetailsofCategory();\r\n                    $scope.selection.Category = \"\";\r\n\r\n                } else {\r\n                    alert('Error in saving');\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n    //deleteing category\r\n    $scope.deleteCategory = function (index) {\r\n        var id = index;\r\n        console.log(index);\r\n\r\n        $http.delete('/category/'+id).then(function (response) {\r\n            if (response.data == true) {\r\n                alert('Item Deleted successfully');\r\n                getDetailsofCategory();\r\n            } else {\r\n                alert('Error in deleting');\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    //Get all Data from StoreManger collection\r\n    var getDetailsofStoreManger = function(){\r\n        $http.get('/api/storeManger')\r\n            .then(function (response) {\r\n                console.log(response);\r\n                $scope.storeMAnagerDetailsArray = response.data;\r\n\r\n\r\n            })\r\n            .finally(function () {\r\n               /* if($scope.categoryObjArray.length == 0 ){\r\n                    $scope.alert = \"show\";\r\n                    $scope.tableclz = \"table hide\";\r\n\r\n                }\r\n                else {\r\n                    $scope.alert = \"hide\";\r\n                    $scope.tableclz = \"table show\";\r\n\r\n                }\r\n                $scope.alertBox2 = \"hide\";\r\n*/\r\n            })\r\n    }\r\n    getDetailsofStoreManger();\r\n\r\n\r\n    //Add StoreManger\r\n    $scope.addStoreManager = function () {\r\n        $scope.alertBox1 = \"show\";\r\n        var StoreManagerObj = {FirstName : $scope.storeMAnagerDetails.firstname , LastName : $scope.storeMAnagerDetails.lastname , address1 : $scope.storeMAnagerDetails.address1  , address2 : $scope.storeMAnagerDetails.address2 , Email : $scope.storeMAnagerDetails.Email , mobileNumber : $scope.storeMAnagerDetails.mobileNumber , password : $scope.storeMAnagerDetails.password};\r\n\r\n        console.log(StoreManagerObj);\r\n        $http.post('/api/storeManger' , StoreManagerObj).then(function (response) {\r\n            console.log(response.data)\r\n            if (response.data == true) {\r\n                $('#saveStoreManager').modal('show');\r\n                getDetailsofCategory();\r\n                $scope.selection.Category = \"\";\r\n            } else {\r\n                alert('Error in saving');\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n});\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- public/Admin/admin.js	(revision 991ead0f5a480b7984a9a7d457e802a479be3f8d)
+++ public/Admin/admin.js	(date 1589400521264)
@@ -56,7 +56,7 @@
         http.sendEmail()
     }
 
-
+ 
     //Get all Data from Category collection
     var getDetailsofCategory = function(){
         $scope.tableclz = "table hide";
